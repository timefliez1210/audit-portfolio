# [000285] `distributeRewardTVS` and `distributeStablecoinAllocation` will revert every time used.
  
  ### Summary

Both of the function forces the owner to pass the full kol addresses array in the storage struct due to a check, which will mean that this struct will also have the value which have exactly zero allocation left due to them being claimed, this will cause the revert when the internal function checks for the zero amount.

### Root Cause

In the vesting contract we can see these functions have the checks as follow
```solidity
    function distributeRewardTVS(uint256 rewardProjectId, address[] calldata kol) external {
        RewardProject storage rewardProject = rewardProjects[rewardProjectId];
        require(block.timestamp > rewardProject.claimDeadline, Deadline_Has_Not_Passed());
        uint256 len = rewardProject.kolTVSAddresses.length;
        for (uint256 i; i < len;) {
            _claimRewardTVS(rewardProjectId, kol[i]);
            unchecked {
                ++i;
            }
        }
    }
```
We can see the loop iterates for the full length of the kol we have in the storage structure. This will mean the caller will have to ensure that the param length should be equal to the storage kol length. However, the problem arises when we know the fact that, some of the accounts may have been claimed, which will mean that the following check in `_claimRewardTVS` function will fail
```solidity
        uint256 amount = rewardProject.kolTVSRewards[kol];
        require(amount > 0, Caller_Has_No_TVS_Allocation());
```
This will revert every time this is called


### Internal Pre-conditions

Some (>=1) have been claimed, that we cause the function to revert

### External Pre-conditions

None

### Attack Path

There is no attack path, the cause of DOS is explained in root cause and summary section

### Impact


The user/owner wont be able to claim specific kol rewards and will be forced to use `distributeRemainingRewardsTVS` which claims ALL OF THE KOLS AT ONCE

there is no loss of fund in this coding mistake. However, this makes two of these function unusable.
This breaks the core purpose for these functions
This is why medium is appropriate for this issue. (because it has a work around for doing this so High is downgraded to Medium)

### PoC

None

### Mitigation

Not iterating the loop to the full length of the storage kol but just to the length of the param (the user/owner passed), should fix this issue.
  