# [000479] Paused state will not prevent NFT transfers for users
  
  ### Summary

Missing pause checks in the AlignerzNFT transfer flow allow transfers to bypass the paused state.

### Root Cause

In AlignerzNFT.sol. The whenNotPaused modifier is not added on the transfer related function. Which does not match the comment 

```solidity
    /// @notice pauses the contract (minting and transfers)
    function pause() external virtual onlyOwner {
        _pause();
    }
```

https://github.com/dualguard/2025-11-alignerz/blob/f7eeed88d91356484c02af6f38b71f27b790828c/protocol/src/contracts/nft/AlignerzNFT.sol#L80-L83


### Internal Pre-conditions

1. Owner call pause() to pause the minting and transfers action

### External Pre-conditions

_No response_

### Attack Path

1. User calls transfer while the contract is paused.
2. AlignerzNFT processes the transfer normally because no whenNotPaused modifier or override checks are present.

### Impact

The contract owner cannot pause token transfers as intended.
Pausing is commonly used to halt ongoing attacks and protect usersâ€™ assets, but this contract fails to provide that protection.

### PoC

Add this file to test folder, then run `forge test --match-test test_TransferWorksWhenPaused -vv`

```solidity

// SPDX-License-Identifier: MIT
pragma solidity =0.8.29;

import "forge-std/Test.sol";
import {AlignerzNFT} from "../src/contracts/nft/AlignerzNFT.sol";

contract AlignerzNFTTest is Test {
    AlignerzNFT public nft;
    
    address public owner;
    address public minter;
    address public user1;
    address public user2;
    address public nonMinter;
    
    // Events to test
    event Minted(address indexed to, uint256 indexed tokenId);
    event Transfer(address indexed from, address indexed to, uint256 indexed tokenId);
    event Paused(address account);
    event Unpaused(address account);
    
    function setUp() public {
        owner = address(this);
        minter = makeAddr("minter");
        user1 = makeAddr("user1");
        user2 = makeAddr("user2");
        nonMinter = makeAddr("nonMinter");
        
        // Deploy AlignerzNFT
        nft = new AlignerzNFT(
            "AlignerzNFT", 
            "AZNFT", 
            "https://nft.alignerz.bid/"
        );
        
        // Add minter
        nft.addMinter(minter);
    }
    
    function test_TransferWorksWhenPaused() public {
        // mint a token to user1
        vm.prank(minter);
        uint256 tokenId = nft.mint(user1);
        assertEq(nft.ownerOf(tokenId), user1);
        
        nft.pause();
        assertTrue(nft.paused());
        
        // Transfer should still work when paused
        vm.prank(user1);
        nft.transferFrom(user1, user2, tokenId);
        
        // Verify transfer worked
        assertEq(nft.ownerOf(tokenId), user2);
        assertEq(nft.balanceOf(user1), 0);
        assertEq(nft.balanceOf(user2), 1);
    }
}
```

### Mitigation

_No response_
  