# [000300] Missing Native ETH Recovery Function Causes Permanent Loss of Accidentally Sent Ether
  
  Native ETH intentionally/unintentionally sent to the dividend distributor contract will permanently be stucked.
# Summary

The absence of a native ETH withdrawal function in [`A26ZDividendDistributor.sol`](https://github.com/dualguard/2025-11-alignerz/blob/f7eeed88d91356484c02af6f38b71f27b790828c/protocol/src/contracts/A26ZDividendDistributor/A26ZDividendDistributor.sol#L9) combined with the lack of `fallback()` or `receive()` functions will cause permanent loss of any native ETH intentionally/unintentionally sent to the contract as the `withdrawStuckTokens()` function only handles ERC20 tokens, leaving no mechanism to recover stuck Ether.

# Root Cause

In [`A26ZDividendDistributor.sol`](https://github.com/dualguard/2025-11-alignerz/blob/f7eeed88d91356484c02af6f38b71f27b790828c/protocol/src/contracts/A26ZDividendDistributor/A26ZDividendDistributor.sol#L9), the `withdrawStuckTokens()` function is designed to rescue only ERC20 tokens using the `IERC20` interface and `safeTransfer()`, with no equivalent function for native ETH recovery.
Additionally, the contract lacks `receive()` or `fallback()` functions to explicitly reject or handle ETH transfers, unlike other contracts in the codebase such as `AlignerzVesting.sol` which implements proper fallback logic.

# Internal Pre-conditions

1. Contract needs to receive native ETH (either through accidental direct transfer or contract interaction)
2. Owner needs to attempt recovery but finds no ETH rescue function available

# Vulnerability Path

1. User mistakenly sends 1 ETH to the `A26ZDividendDistributor` contract address 
2. Transaction succeeds because Solidity allows contracts to receive ETH even without `receive()`/`fallback()` when sent via certain methods
3. The 1 ETH is now held by the contract at `address(this).balance = 1 ether`
4. Owner discovers the stuck ETH and attempts to call `withdrawStuckTokens(address(0), 1 ether)`
5. Transaction reverts with "Zero_Address()" because the function validates `tokenAddress != address(0)`
6. Owner attempts to call `withdrawStuckTokens(0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE, 1 ether)` (common ETH placeholder address)
7. Transaction reverts when trying to cast placeholder address to `IERC20` interface - call fails
8. Owner realizes there is no function to withdraw native ETH
9. **Result:** 1 ETH permanently stuck in contract with no recovery mechanism

# Impact

Intentionally/Unintentionally sent native ETH to the contract cannot be recovered, resulting in permanent loss. While the contract is designed for ERC20 dividend distribution (USDC/USDT), accidental ETH transfers can occur through user error, wallet interface mistakes, or integration bugs. Unlike ERC20 tokens which have the `withdrawStuckTokens()` rescue function, native ETH has no equivalent recovery path, making the loss irrecoverable even by the contract owner.


# Mitigation

Add a dedicated function to rescue native ETH like the one in the AlignerzVesting contract:

```solidity
/// @notice Allows owner to withdraw stuck native ETH
/// @param amount Amount of ETH to withdraw in wei
function withdrawStuckETH(uint256 amount) external onlyOwner {
    require(amount > 0, Zero_Value());
    require(address(this).balance >= amount, "Insufficient ETH balance");

    (bool success, ) = payable(msg.sender).call{value: amount}("");
    require(success, "ETH transfer failed");
}
```

**Alternative: Add receive function to explicitly reject ETH:**

```solidity
/// @notice Explicitly reject direct ETH transfers
receive() external payable {
    revert("Contract does not accept ETH");
}

fallback() external payable {
    revert("Contract does not accept ETH");
}
```
  