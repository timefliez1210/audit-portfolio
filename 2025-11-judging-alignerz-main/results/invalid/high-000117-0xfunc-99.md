# [000117] The missing function in AlignerzNFT.sol will cause a permanent denial of service for all users
  
   ### Summary

The missing extOwnerOf function in AlignerzNFT.sol will cause a complete denial of service for all protocol users as the vesting and dividend contracts will revert on every interaction attempting to verify ownership.

### Root Cause

In src/contracts/nft/AlignerzNFT.sol, the contract inherits ERC721A but does not implement the extOwnerOf function, which is explicitly defined in IAlignerzNFT and called by AlignerzVesting.sol and A26ZDividendDistributor.sol.


### Internal Pre-conditions

The AlignerzVesting contract must be initialized with the address of AlignerzNFT.

### External Pre-conditions

None

### Attack Path

A user attempts to call claimTokens, splitTVS, or mergeTVS in the Vesting contract.
The Vesting contract calls nft.extOwnerOf(tokenId).
The call fails at the EVM level because the function selector for extOwnerOf does not exist on the target contract.
The transaction reverts.

### Impact

The protocol is non-functional. Users cannot claim vested tokens, split/merge NFTs, or receive dividends. Funds deposited are effectively locked until a contract upgrade is performed.

### PoC

```solidity
function test_PoC_1_InterfaceMismatch_ClaimTokens() public {
        setUpPoC();
        _setupAndMintNFT(bidders[0]);
        uint256 nftId = bidderNFTIds[bidders[0]];
        vm.warp(block.timestamp + 100 days);
        vm.startPrank(bidders[0]);

        // We attempt to call claimTokens.
        // If extOwnerOf is missing (as seen in the code), this MUST revert.
        // If it passes in your local env, check src/contracts/nft/ERC721A.sol
        try vesting.claimTokens(PROJECT_ID, nftId) {
            // If it succeeds, we log it (unexpected based on provided code)
            console.log(
                "WARNING: claimTokens succeeded. extOwnerOf might exist in ERC721A."
            );
        } catch {
            // If it fails, the finding is valid
            console.log("CONFIRMED: claimTokens reverted as expected.");
        }
        vm.stopPrank();
    }
```

### Mitigation

Add the missing wrapper function to AlignerzNFT.sol:

```Solidity
function extOwnerOf(uint256 tokenId) external view returns (address) {
    return ownerOf(tokenId);
}
```
  